# Spring에서의 의존성 주입 방법

**스프링에서 의존성 주입 방법**

1. 필드 주입 (**[@Autowired](https://github.com/Autowired)** 어노테이션 붙이기)
2. setter 주입 (setter위에 **[@Autowired](https://github.com/Autowired)** 어노테이션 붙이기)
3. 일반 메소드 주입(Method Injection)
4. 생성자 주입 방법

### 1&2&3 필드, 세터, 일반메소드 주입

1. 특징
    1. Bean이 먼저 만들어지고, BeanFactory에서 의존 객체를 가져와 주입한다.
2. 장점
    1. 편하다.
    2. 코드가 간결하다.
3. 단점
    1. 클라이언트에 setter노출
    2. 코드가 간결하지만, 변경이 불가능해서 테스트하기 힘들다는 단점이 있다.
    3. 코드가 간결해서 많은 개발자들이 편하게 사용할 수는 있지만 변경이 불가능해서 테스트 하기 힘들다면 치명적인 단점이 있다.
    4. 필드 주입은 스프링 자체에서 추천하지 않은 방법이다. (인텔리제이에서 노란불 뜸)
    

### 생성자 주입 방법

1. 특징
    1. Bean이 만들어지는 시점에 모든 의존 관계를 BeanFactory를 통해 가져와야 한다.
2. 장점
    1. 불변 객체를 만들 수 있다.
    2. 순환참조를 막을 수 있다. (A 에서 B를 필요로 하고, B에서 A를 필요로 하는 경우)
    3. NullPointerException 방지
        1. field, setter 주입은 객체가 생성된 후 주입 된다.
        2. 객체 생성 시점에 무조건 주입해야 하므로, NPE를 방지할 수 있다.
    4. 생성자 주입을 사용하면 필드 객체에 final 키워드를 사용할 수 있으며, 컴파일 시점에 누락된 의존성을 확인할 수 있다.
    5. lombok을 활용한 생성자 주입
        1. **@RequiredArgsConstructor**는 final로 선언된 필드를 가지고 생성자를 만들어준다.
        2. 개발도중 필드가 계속 바뀌어도 lombok의 관리하에 생성자 코드의 파라미터를 고칠 필요가 없다.

- 그럼 필드와 setter주입은 왜 만들어 놨을까?주입받는 객체가 변경될 가능성이 있는 경우 사용하기도한다고 합니다.